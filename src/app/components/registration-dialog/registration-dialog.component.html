<h2 mat-dialog-title>Реэстрація</h2>

<button mat-button class="close-icon" (click)="onNoClick()">
  <mat-icon>close</mat-icon>
</button>

<div mat-dialog-content>
  <p>Для реєстрації введіть логін та пароль</p>

  <form [formGroup]="formGroupRegistration"
        (ngSubmit)="onSubmit(formGroupRegistration.value)"
        class="form"
        id = 'formGroupRegistration'
  >
    <mat-form-field appearance="fill"  style="width: 100%">
      <mat-label>Ім'я</mat-label>
      <input
        matInput
        formControlName="name"
        pTooltip="від 3 до 12 символів"
        tooltipPosition="right" >
    </mat-form-field>

    <div
      class="error-valid-message"
      *ngIf="formGroupRegistration.controls['name'].invalid && formGroupRegistration.controls['name'].touched"
    >
      Помилка! Вкажіть ім'я від 3 до 12 символів.
    </div>

    <mat-form-field appearance="fill"  style="width: 100%">
      <mat-label>Логін</mat-label>
      <input
        matInput
        formControlName="login"
        pTooltip="від 3 до 10 символів"
        tooltipPosition="right" >
    </mat-form-field>

    <div
      class="error-valid-message"
      *ngIf="formGroupRegistration.controls['login'].invalid && formGroupRegistration.controls['login'].touched"
    >
      Помилка! Вкажіть логін від 3 до 10 символів.
    </div>

    <mat-form-field appearance="fill" style="width: 100%">
      <mat-label>Пароль</mat-label>
      <input
        matInput [type]="hidePass ? 'password' : 'text'"
        formControlName="password"
        width="100%"
        pTooltip="6-10 символів, з них мін. одна цифра та велика літера "
        tooltipPosition="right">

      <button mat-icon-button matSuffix (click)="hidePass = !hidePass" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePass">
        <mat-icon>{{hidePass ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>

    </mat-form-field>

    <div
      class="error-valid-message"
      *ngIf="formGroupRegistration.controls['password'].invalid && formGroupRegistration.controls['password'].touched"
    >
      Помилка! Пароль повинен складатися з 6 - 10 символів. З них хочаб одна велика літера та одна цифра.
    </div>

    <mat-form-field appearance="fill" style="width: 100%">
      <mat-label>Поторіть ваш пароль</mat-label>
      <input
        matInput [type]="hidePassConfirm ? 'password' : 'text'"
        formControlName="confirmPassword"
        width="100%"
        pTooltip="паролі повмнні співпадати"
        tooltipPosition="right">
      <button mat-icon-button matSuffix (click)="hidePassConfirm = !hidePassConfirm" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassConfirm">
        <mat-icon>{{hidePassConfirm ? 'visibility_off' : 'visibility'}}</mat-icon>
      </button>
    </mat-form-field>
    <div
      class="error-valid-message"
      *ngIf="formGroupRegistration.controls['confirmPassword'].invalid && formGroupRegistration.controls['confirmPassword'].touched"
    >
      Помилка! Вказані паролі не співпадають!
    </div>
  </form>

</div>

<div mat-dialog-actions>
  <button mat-button (click)="onNoClick()">Повернутися до входу</button>
  <button
          mat-button
          type="submit"
          form = "formGroupRegistration"
          [disabled] = "formGroupRegistration.invalid"
  >Зареєструватися</button>

</div>


